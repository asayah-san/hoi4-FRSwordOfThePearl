add_namespace = phi

# Refugees from Germany
country_event = {
    id = phi.1
    title = phi.1.t
    desc = phi.1.d
    picture = report_event_iww_demonstration

    fire_only_once = yes

    mean_time_to_happen = {
        days = 1
    }

    trigger = {
        original_tag = PHI
        GER = { has_completed_focus = GER_form_govt }
    }

    option = {
        name = phi.1.a

        ai_chance = {
            factor = 100

            modifier = {
                factor = 2
                num_of_divisions < 20
            }
        }

        add_timed_idea = {
            idea = PHI_german_refugees
            days = 710
        }
        hidden_effect = {
            country_event = { id = phi.2 days = 35 }
        }
    }

    option = {
        name = phi.1.b
        add_political_power = -10
    }
}

# German Imperial Family
country_event = {
    id = phi.2
    title = phi.2.t
    desc = phi.2.d
    
    is_triggered_only = yes

    option = {
        name = phi.2.a

        ai_chance = {
            factor = 40
        }

        hidden_effect = {
            set_country_flag = PHI_GERMAN_IMPERIAL_FAMILY
        }
    }

    option = {
        name = phi.2.b
    }
}

# Status of the KALIBAPI Party
country_event = {
    id = phi.3
    title = phi.3.t
    desc = phi.3.d
    picture = report_event_iww_demonstration

    fire_only_once = yes

    mean_time_to_happen = {
        days = 1
    }

    trigger = {
        original_tag = PHI
        date > 1936.4.5
        NOT = {
            has_government = valkist
        }
    }

    option = {
        name = phi.3.a
        add_political_power = 50
    }

    option = {
        name = phi.3.b
        add_political_power = 100
        hidden_effect = {
            set_country_flag = PHI_KALIBAPI_ALLOWED
        }
    }
}

# Question of Elections
country_event = {
    id = phi.4
    title = phi.4.t
    desc = phi.4.d
    picture = report_event_iww_demonstration

    fire_only_once = yes

    mean_time_to_happen = {
        days = 1
    }

    trigger = {
        original_tag = PHI
        date > 1936.9.24
        NOT = {
            has_government = valkist
        }
    }

    immediate = {
        hidden_effect = {
            add_popularity = {
                ideology = authoritarian_democrat
                popularity = -0.05
            }
        }
    }
    
    option = {
        name = phi.4.a
        add_stability = 0.1
        add_war_support = 0.2

        ai_chance = {
            factor = 20

            modifier = {
                factor = 10
                has_country_flag = PHI_BROTHERS_UNITED_BEHAVIOR
            }
        }

        custom_effect_tooltip = PHI_new_elections_called_effect
        hidden_effect = {
            set_country_flag = PHI_DEMOCRACY_RETURNS_FLAG
            country_event = { id = phi.5 days = 30 }
        }
    }

    option = {
        name = phi.4.b

        add_popularity = {
            ideology = authoritarian_democrat
            popularity = -0.05
        }

        ai_chance = {
            factor = 20
            
            modifier = {
                factor = 10
                has_country_flag = PHI_TESTING_IMPERIALISM_BEHAVIOR
            }
            modifier = {
                factor = 10
                has_country_flag = PHI_PRUSSIA_OF_THE_EAST_BEHAVIOR
            }
        }

        custom_effect_tooltip = PHI_new_elections_suppressed_effect
        hidden_effect = {
            country_event = { id = phi.6 days = 14 }
        }
    }
}

# [GetYear] Elections
country_event = {
    id = phi.5
    title = phi.5.t
    desc = phi.5.d
    picture = GFX_report_event_election_vote

    is_triggered_only = yes

    immediate = {
        hidden_effect = {
            add_popularity = {
                ideology = authoritarian_democrat
                popularity = -0.05
            }
        }
    }

    option = {
        name = phi.5.a

        custom_effect_tooltip = PHI_lp_victory_effect
        hidden_effect = {
            add_popularity = {
                ideology = market_liberal
                popularity = 0.2
            }

            set_politics = {
                ruling_party = market_liberal
                elections_allowed = no
            }

            swap_ideas = {
                remove_idea = PHI_Jose_P_Laurel_HoG_ADE
                add_idea = PHI_Manuel_Roxas_HoG_MLI
            }

            swap_ideas = {
                remove_idea = PHI_Ferdinand_Marcos_FOR_SCO
                add_idea = PHI_Manuel_Quadrino_FOR_MLI
            }

            swap_ideas = {
                remove_idea = PHI_Serafin_Fausto_ECO_SCO
                add_idea = PHI_Ramon_Magsaysay_ECO_MLI
            }

            swap_ideas = {
                remove_idea = PHI_Benigno_Aquino_Sr_SEC_ADE
                add_idea = PHI_Roman_Apolinario_SEC_MLI
            }

            set_country_flag = PHI_LP_VICTORY_FLAG
            news_event = { id = news.2 days = 1 }
            remove_ideas = PHI_thirst_for_democracy
        }
    }

    option = {
        name = phi.5.b

        custom_effect_tooltip = PHI_pp_victory_effect
        hidden_effect = {
            add_popularity = {
                ideology = social_democrat
                popularity = 0.2
            }

            set_politics = {
                ruling_party = social_democrat
                elections_allowed = no
            }

            swap_ideas = {
                remove_idea = PHI_Jose_P_Laurel_HoG_ADE
                add_idea = PHI_Juan_Sumulong_HoG_SDE
            }

            swap_ideas = {
                remove_idea = PHI_Ferdinand_Marcos_FOR_SCO
                add_idea = PHI_Rafael_Liwanag_HoG_SDE
            }

            swap_ideas = {
                remove_idea = PHI_Serafin_Fausto_ECO_SCO
                add_idea = PHI_Diosdado_P_Macapagal_ECO_SDE
            }

            swap_ideas = {
                remove_idea = PHI_Benigno_Aquino_Sr_SEC_ADE
                add_idea = PHI_Jose_M_Crisol_SEC_SDE
            }

            set_country_flag = PHI_PP_VICTORY_FLAG
            news_event = { id = news.3 days = 1 }
            remove_ideas = PHI_thirst_for_democracy
        }
    }

    option = {
        name = phi.5.c

        ai_chance = {
            factor = 10

            modifier = {
                factor = 10
                has_country_flag = PHI_BROTHERS_UNITED_BEHAVIOR
            }
        }

        custom_effect_tooltip = PHI_np_victory_effect
        hidden_effect = {
            add_popularity = {
                ideology = social_conservative
                popularity = 0.2
            }

            set_politics = {
                ruling_party = social_conservative
                elections_allowed = no
            }

            swap_ideas = {
                remove_idea = PHI_Jose_P_Laurel_HoG_ADE
                add_idea = PHI_Manuel_Quezon_HoG_SCO
            }
            swap_ideas = {
                remove_idea = PHI_Benigno_Aquino_Sr_SEC_ADE
                add_idea = PHI_Tirano_Craveza_SEC_SCO
            }
            add_ideas = PHI_Ferdinand_Marcos_FOR_SCO
            add_ideas = PHI_Serafin_Fausto_ECO_SCO

            set_country_flag = PHI_NP_VICTORY_FLAG
            news_event = { id = news.1 days = 1 }
            remove_ideas = PHI_thirst_for_democracy
        }
    }

    option = {
        name = phi.3.e
        trigger = { has_country_flag = PHI_KALIBAPI_ALLOWED }

        custom_effect_tooltip = PHI_kalibapi_victory_effect
        hidden_effect = {
            add_popularity = {
                ideology = valkist
                popularity = 0.20
            }

            set_politics = {
                ruling_party = valkist
                elections_allowed = no
            }

            swap_ideas = {
                remove_idea = presidential_republic
                add_idea = one_party_dictatorship
            }

            swap_ideas = {
                remove_idea = PHI_Jose_P_Laurel_HoG_ADE
                add_idea = PHI_Jorge_B_Vargas_HoG_VAL
            }
            add_ideas = PHI_Ferdinand_Marcos_FOR_SCO
            add_ideas = PHI_Serafin_Fausto_ECO_SCO

            set_country_flag = PHI_KALIBAPI_VICTORY_FLAG
            news_event = { id = news.5 days = 1 }
        }
    }
}

# CBCP Denounces our Decision
country_event = {
    id = phi.6
    title = phi.6.t
    desc = phi.6.d
    picture = report_event_iww_demonstration

    is_triggered_only = yes

    option = {
        name = phi.6.a
        add_political_power = -100
        add_popularity = {
            ideology = authoritarian_democrat
            popularity = -0.05
        }
    }
}

# Protests!
country_event = {
    id = phi.7
    title = phi.7.t
    desc = phi.7.d
    picture = report_event_iww_demonstration

    is_triggered_only = yes

    option = {
        name = phi.7.a

        add_political_power = 100
        hidden_effect = {
            set_country_flag = PHI_DEMOCRACY_RETURNS_FLAG
            country_event = { id = phi.4 days = 30 }
        }
    }

    option = {
        name = phi.7.b

        ai_chance = {
            factor = 100

            modifier = {
                factor = 2
                has_country_flag = PHI_PRUSSIA_OF_THE_EAST_BEHAVIOR
            }
            modifier = {
                factor = 2
                has_country_flag = PHI_TESTING_IMPERIALISM_BEHAVIOR
            }
        }

        add_political_power = -100
        hidden_effect = {
            country_event = { id = phi.8 days = 7 }
        }
    }
}

# Army in the Streets
country_event = {
    id = phi.8
    title = phi.8.t
    desc = phi.8.d
    picture = report_event_iww_demonstration

    is_triggered_only = yes

    option = {
        name = phi.8.a

        ai_chance = {
            factor = 10

            modifier = {
                factor = 2
                has_country_flag = PHI_PRUSSIA_OF_THE_EAST_BEHAVIOR
            }
        }

        hidden_effect = {
            country_event = { id = phi.9 days = 2 }
        }
    }

    option = {
        name = phi.8.b

        ai_chance = {
            factor = 10
            
            modifier = {
                factor = 2
                has_country_flag = PHI_TESTING_IMPERIALISM_BEHAVIOR
            }
        }

        hidden_effect = {
            country_event = { id = phi.10 days = 7 }
        }
    }
}

# Army Coup
country_event = {
    id = phi.9
    title = phi.9.t
    desc = phi.9.d
    picture = GFX_report_event_romanian_soldiers

    is_triggered_only = yes

    option = {
        name = phi.9.a
        
        custom_effect_tooltip = PHI_army_coup_effect
        hidden_effect = {
            add_popularity = {
                ideology = paternal_autocrat
                popularity = 0.20
            }

            set_politics = {
                ruling_party = paternal_autocrat
                elections_allowed = no
            }

            swap_ideas = {
                remove_idea = presidential_republic
                add_idea = military_junta
            }

            add_ideas = PHI_Basilio_J_Valdez_HoG_PAT
            add_ideas = PHI_Vicente_P_Lim_FOR_PAT
            add_ideas = PHI_Ramon_Alcaraz_ECO_PAT
            add_ideas = PHI_Rafael_Jalandoni_SEC_PAT
            set_country_flag = PHI_MILITARY_JUNTA_FLAG
        }
    }
}

# Protests turning Violent
country_event = {
    id = phi.10
    title = phi.10.t
    desc = phi.10.d
    picture = GFX_report_event_german_troops_paris

    is_triggered_only = yes

    option = {
        name = phi.10.a

        hidden_effect = {
            set_country_flag = PHI_DEMOCRACY_RETURNS_FLAG
            country_event = { id = phi.4 days = 20 }
        }
    }

    option = {
        name = phi.10.b

        ai_chance = {
            factor = 10

            modifier = {
                factor = 20
                has_country_flag = PHI_TESTING_IMPERIALISM_BEHAVIOR
            }
        }

        hidden_effect = {
            country_event = { id = phi.11 days = 10 }
        }
    }
}

# Union Strike
country_event = {
    id = phi.11
    title = phi.11.t
    desc = phi.11.d
    picture = report_event_iww_demonstration

    is_triggered_only = yes

    option = {
        name = phi.11.a
        add_ideas = PHI_worker_strikes1
        hidden_effect = {
            country_event = { id = phi.12 days = 30 }
        }
    }

}

# Expanded Union Strike
country_event = {
    id = phi.12
    title = phi.12.t
    desc = phi.12.d
    picture = GFX_report_event_generic_strikes

    is_triggered_only = yes

    option = {
        name = phi.12.a

        ai_chance = {
            factor = 20

            modifier = {
                factor = 10
                has_country_flag = PHI_TESTING_IMPERIALISM_BEHAVIOR
            }
        }

        swap_ideas = {
            remove_idea = PHI_worker_strikes1
            add_idea = PHI_worker_strikes2
        }
        hidden_effect = {
            country_event = { id = phi.13 days = 18 }
        }
    }

    option = {
        name = phi.12.b

        hidden_effect = {
            set_country_flag = PHI_DEMOCRACY_RETURNS_FLAG
            country_event = { id = phi.4 days = 30 }
        }
    }
}

# Socialist Army
country_event = {
    id = phi.13
    title = phi.13.t
    desc = phi.13.d
    picture = GFX_report_event_spain_civil_war_volunteers_02

    is_triggered_only = yes

    option = {
        name = phi.a
        hidden_effect = {
            country_event = { id = phi.9 days = 10 }
        }
    }

    option = {
        name = phi.b
        hidden_effect = {
            country_event = { id = phi.14 days = 21 }
        }
    }

    option = {
        name = phi.c
        
        ai_chance = {
            factor = 20

            modifier = {
                factor = 10
                has_country_flag = PHI_TESTING_IMPERIALISM_BEHAVIOR
            }
        }

        hidden_effect = {
            country_event = { id = phi.15 days = 30 }
        }
    }
}

# Trade Unions
country_event = {
    id = phi.14
    title = phi.14.t
    desc = phi.14.d
    picture = GFX_report_event_german_italian_plot

    is_triggered_only = yes

    immediate = { 
        remove_ideas = PHI_worker_strikes1
        remove_ideas = PHI_worker_strikes2 
    }

    option = {
        name = phi.14.a

        custom_effect_tooltip = PHI_socialist_republic_effect
        hidden_effect = {
            add_popularity = {
                ideology = libertarian_socialist
                popularity = 0.2
            }

            set_politics = {
                ruling_party = libertarian_socialist
                elections_allowed = no
            }

            swap_ideas = {
                remove_idea = PHI_Jose_P_Laurel_HoG_ADE
                add_idea = PHI_Crisanto_Evangelista_HoG_LIB
            }
            swap_ideas = {
                remove_idea = PHI_Ferdinand_Marcos_FOR_SCO
                add_idea = PHI_Casto_Alejandro_FOR_SYN
            }
            swap_ideas = {
                remove_idea = PHI_Serafin_Fausto_ECO_SCO
                add_idea = PHI_Herminegildo_Cruz_ECO_SYN
            }
            swap_ideas = {
                remove_idea = PHI_Benigno_Aquino_Sr_SEC_ADE
                add_idea = PHI_Guillermo_Capadocia_SEC_SYN
            }

            news_event = { id = news.6 days = 1 }
            set_country_flag = PHI_SOCIALIST_REPUBLIC_FLAG
            remove_ideas = PHI_thirst_for_democracy

            set_party_name = {
                ideology = vanguardist
                long_name = PHI_vanguardist_factions_long
                name = PHI_vanguardist_factions
            }
            set_party_name = {
                ideology = collectivist
                long_name = PHI_collectivist_factions_long
                name = PHI_collectivist_factions
            }
            set_party_name = {
                ideology = libertarian_socialist
                long_name = PHI_libertarian_socialist_factions_long
                name = PHI_libertarian_socialist_factions
            }
        }
    }
}

# Aguinaldo in the Government
country_event = {
    id = phi.15
    title = phi.15.t
    desc = phi.15.d
    picture = report_event_iww_demonstration

    is_triggered_only = yes

    option = {
        name = phi.15.a

        ai_chance = {
            factor = 10

            modifier = {
                factor = 20
                has_country_flag = PHI_TESTING_IMPERIALISM_BEHAVIOR
            }
        }

        swap_ideas = {
            remove_idea = PHI_Benigno_Aquino_Sr_SEC_ADE
            add_idea = PHI_Emilio_Aguinaldo_SEC_PAT
        }
        hidden_effect = {
            country_event = { id = phi.16 days = 7 }
        }
    }

    option = {
        name = phi.15.b
        hidden_effect = {
            country_event = { id = phi.9 days = 20 }
        }
    }
}

# Aguinaldo Negotiations
country_event = {
    id = phi.16
    title = phi.16.t
    desc = phi.16.d
    picture = GFX_report_event_albanian_partisans

    is_triggered_only = yes

    option = {
        name = phi.16.a
        add_political_power = 100
        hidden_effect = {
            country_event = { id = phi.17 days = 14 }
        }
    }
}

# NatPop sentiments in the Army
country_event = {
    id = phi.17
    title = phi.17.t
    desc = phi.17.d
    picture = GFX_report_event_german_troops_paris

    is_triggered_only = yes

    option = {
        name = phi.17.a

        add_popularity = {
            ideology = national_populist
            popularity = 0.05
        }
    }
}

# King Returns
country_event = {
    id = phi.18
    title = phi.18.t
    desc = phi.18.d
    picture = GFX_report_event_journalists_speech

    is_triggered_only = yes

    option = {
        name = phi.18.a

        custom_effect_tooltip = PHI_aguinaldo_coup_effect
        hidden_effect = {
            add_popularity = {
                ideology = national_populist
                popularity = 0.15
            }

            set_politics = {
                ruling_party = national_populist
                elections_allowed = no
            }

            swap_ideas = {
                remove_idea = presidential_republic
                add_idea = republican_dictatorship
            }
            swap_ideas = {
                remove_idea = PHI_Jose_P_Laurel_HoG_ADE
                add_idea = PHI_Emilio_Aguinaldo_HoG_NAT
            }
            swap_ideas = {
                remove_idea = PHI_Benigno_Aquino_Sr_SEC_ADE
                add_idea = PHI_Jose_Yulo_SEC_NAT
            }
            add_ideas = PHI_Ferdinand_Marcos_FOR_SCO
            add_ideas = PHI_Serafin_Fausto_ECO_SCO

            news_event = { id = news.7 days = 1 }
            set_country_flag = PHI_AGUINALDO_COUP_FLAG
        }
    }
}

# Operation Merkeda
country_event = {
    id = phi.19
    title = phi.19.t
    desc = phi.19.d
    picture = GFX_report_event_german_italian_plot

    fire_only_once = yes

    trigger = {
        original_tag = PHI
        INS = { 
            exists = yes 
            has_war_with = BEA
        }
        BEA = {
            exists = yes
            has_war_with = INS
        }
        ENG = {
            has_war_with = INS
        }
    }

    option = {
        name = phi.19.a
        hidden_effect = {
            country_event = { id = phi.20 days = 7 }
        }
    }

    option = {
        name = phi.19.b
        add_political_power = -10
    }
}

# Sabah Occupation
country_event = {
    id = phi.20
    title = phi.20.t
    desc = phi.20.d
    picture = GFX_report_event_dutch_soldiers_indonesia

    is_triggered_only = yes

    immediate = {
        PHI = {
            trasfer_state = 785
        }
        INS = {
            remove_state_core = 785
            add_state_claim = 785

            country_event = { id = phi.21 days = 1 }
        }
        BEA = {
            remove_state_core = 785
            add_state_claim = 785

            country_event = { id = phi.21 days = 1 }
        }

        news_event = { id = news.10 }
    }

    option = {
        name = phi.20.a

        add_political_power = 100
    }
}

# Sabah Occupation NOT PHI
country_event = {
    id = phi.21
    title = phi.21.t
    desc = phi.21.d
    picture = GFX_report_event_dutch_soldiers_indonesia

    is_triggered_only = yes

    option = {
        name = phi.21.a

        ai_chance = {
            factor = 4

            modifier = {
                factor = 10
                num_of_divisions > 50
                num_of_factories > 100
            }
        }

        declare_war_on = {
            target = PHI
            type = annex_everything
        }
    }

    option = {
        name = phi.21.b
        add_political_power = -10
    }
}


# Seek Foreign Investments
country_event = {
    id = phi.22
    title = phi.22.t
    desc = phi.22.d
    picture = GFX_report_event_hitler_handshake

    is_triggered_only = yes

    option = {
        name = phi.22.a

        ai_chance = {
            factor = 200

            modifier = {
                factor = 10
                PHI = { num_of_factories < 100 }
            }
            modifier = {
                factor = 2
                PHI = { num_of_divisions > 20 }
            }
        }

        PHI = { 
            hidden_effect = {
                add_opinion_modifier = {
                    target = ROOT
                    modifier = PHI_economic_investment
                } 
            }
            random_owned_controlled_state = {
                limit = {
                    free_building_slots = {
                        building = industrial_complex
                        size > 0
                        include_locked = yes
                    }
                }

                add_extra_state_shared_building_slots = 1
                add_building_construction = {
                    type = industrial_complex
                    level = 1
                    instant_build = yes
                }
            }
            country_event = { id = phi.23 }
        }
    }
    option = {
        name = phi.22.b

        PHI = {
            country_event = { id = phi.24 }
        }
    }
}

# [From.GetNameDefCap] Accepted Economic Investment
country_event = {
    id = phi.23
    title = phi.23.t
    desc = phi.23.d
    picture = GFX_report_event_hitler_handshake

    is_triggered_only = yes

    option = {
        name = phi.23.a
    }
}

# [From.GetNameDefCap] Rejected Economic Investment
country_event = {
    id = phi.24
    title = phi.24.t
    desc = phi.24.d
    picture = GFX_report_event_hitler_handshake

    is_triggered_only = yes

    option = {
        name = phi.24.a
    }
}

# Socialist Revolt!
country_event = {
    id = phi.25
    title = phi.25.t
    desc = phi.25.d
    picture = report_event_iww_demonstration

    is_triggered_only = yes

    option = {
        name = phi.25.a

        custom_effect_tooltip = PHI_communist_revolt_effect
        hidden_effect = {

            release = SRP
            SRP = {
                set_cosmetic_tag = SRP_uprising
                load_oob = "SRP_civil_war" 

                add_state_core = 327
                transfer_state = 327
                declare_war_on = {
                    type = annex_everything
                    target = PHI
                }
            }

            news_event = { id = news.13 days = 1 }
            
            remove_state_core = 327
            add_state_claim = 327
            set_capital = 623
            load_oob = "PHI_civil_war"
        }
    }
}

# Leftists Imprisoned
country_event = {
    id = phi.26
    title = phi.26.t
    desc = phi.26.d
    picture = GFX_report_event_german_italian_plot

    is_triggered_only = yes

    option = {
        name = phi.26.a

        add_popularity = {
            ideology = collectivist
            popularity = -0.05
        }
    }
}

# SEATO Invitation
country_event = {
    id = phi.27
    title = phi.27.t
    desc = phi.27.d
    picture = GFX_report_event_dutch_soldiers_indonesia

    is_triggered_only = yes

    option = {
        name = phi.27.a

        PHI = { country_event = { id = phi.28 } }
    }

    option = {
        name = phi.27.b

        PHI = { country_event = { id = phi.29 } }
    }
}

# SEATO Invitation Accepted
country_event = {
    id = phi.28
    title = phi.28.t
    desc = phi.28.d
    picture = GFX_report_event_dutch_soldiers_indonesia

    is_triggered_only = yes

    option = {
        name = phi.28.a
        add_to_faction = FROM 
    }
}

# SEATO Invitation Rejected
country_event = {
    id = phi.29
    title = phi.29.t
    desc = phi.29.d
    picture = GFX_report_event_dutch_soldiers_indonesia

    is_triggered_only = yes

    option = {
        name = phi.29.a
    }
}

# Faction Joining
country_event = {
    id = phi.30
    picture = GFX_report_event_romanian_soldiers

    title = {
        text = phi.30.t.jp
        trigger = { tag = JAP }
    }
    title = {
        text = phi.30.t.de
        trigger = { tag = GER }
    }
    title = {
        text = phi.30.t.uk
        trigger = { tag = ENG }
    }
    title = {
        text = phi.30.t.us
        trigger = { tag = USA }
    }

    desc = {
        text = phi.30.d.jp
        trigger = { tag = JAP }
    }
    desc = {
        text = phi.30.d.de
        trigger = { tag = GER }
    }
    desc = {
        text = phi.30.d.uk
        trigger = { tag = ENG }
    }
    desc = {
        text = phi.30.d.us
        trigger = { tag = USA }
    }
    is_triggered_only = yes

    option = {
        name = phi.30.a
        trigger = {
            NOT = {
                tag = JAP
                tag = GER
                tag = ENG
                tag = USA
            }
        }
    }

    # Options for JAP
    option = {
        name = phi.30.a.jp
        trigger = { tag = JAP }

        ai_chance = {
            factor = 40

            modifier = {
                factor = 100
                JAP = { has_war_with = USA }
                PHI = { has_war_with = USA }
            }
            modifier = {
                factor = 100
                JAP = { has_war_with = ENG }
                PHI = { has_war_with = ENG }
            }
            modifier = {
                factor = 600
                JAP = { has_war_with = SOV } 
            }
            modifier = {
                factor = 200
                PHI = { num_of_divisions > 60 }
            }
            modifier = {
                factor = 200
                PHI = { num_of_factories > 60 }
            }
            modifier = {
                factor = 0.5
                PHI = { has_government = libertarian_socialist }
            }
            modifier = {
                factor = 0.5
                PHI = { has_government = collectivist }
            }
            modifier = {
                factor = 0.5
                PHI = { has_government = vanguardist }
            }
        }

        if = {
            limit = {
                JAP = { is_faction_leader = no }
                PHI = { is_faction_leader = no }
            }
            JAP = {
                set_rule = { can_create_factions = yes }
                create_faction = PHI_co-prosperity_sphere
                add_to_faction = PHI
            }
        }

        if = {
            limit = {
                JAP = { is_faction_leader = yes }
            }
            JAP = { add_to_faction = PHI }
        }

        PHI = { 
            set_country_flag = PHI_SIDED_WITH_A_MAJOR
            country_event = { id = phi.31 }
        }
    }
    option = {
        name = phi.30.b.jp
        trigger = { tag = JAP }

        PHI = { country_event = { id = phi.32 } }
    }

    # Option for GER
    option = {
        name = phi.30.a.de
        trigger = { tag = GER }

        ai_chance = {
            factor = 200

            modifier = {
                factor = 10
                FRA = { has_war_with = GER }
            }
            modifier = {
                factor = 10
                ENG = { has_war_with = GER }
            }
            modifier = {
                factor = 10
                SOV = { has_war_with = GER }
            }
            modifier = {
                factor = 10
                PHI = { num_of_factories > 50 }
            }
            modifier = {
                factor = 10
                PHI = { num_of_divisions > 100 }
            }
        }

        PHI = {
            set_country_flag = PHI_SIDED_WITH_A_MAJOR
            country_event = { id = phi.32 }
            give_guarantee = GER
        }
        GER = {
            diplomatic_relation = {
                country = PHI
                relation = military_access
                active = yes
            }
            give_guarantee = PHI
        }
    }
    option = {
        name = phi.30.b.de
        trigger = { tag = GER }

        PHI = { country_event = { id = phi.33 } }
    }

    # Option for ENG
    option = {
        name = phi.30.a.uk
        trigger = { tag = ENG }

        ai_chance = {
            factor = 200

            modifier = {
                factor = 10
                BEI = { exists = no }
            }
            modifier = {
                factor = 4
                JAP = { has_government = national_populist }
            }
            modifier = {
                factor = 4
                JAP = { has_government = authoritarian_democrat }
            }
            modifier = {
                factor = 10
                ENG = { has_government = authoritarian_democrat }
            }
            modifier = {
                factor = 10
                ENG = { has_government = paternal_autocrat }
            }
            modifier = {
                factor = 10
                ENG = { has_war_with = JAP }
            }
            modifier = {
                factor = 2
                FRA = { has_war_with = ENG }
            }
        }

        if = {
            limit = { ENG = { is_faction_leader = yes } }
            add_to_faction = yes
        }

        if = {
            limit = {
                FRA = { 
                    is_faction_leader = yes
                    is_in_faction_with = ENG
                }
            }
            FRA = { add_to_faction = PHI }
        }

        PHI = {
            set_country_flag = PHI_SIDED_WITH_A_MAJOR
            set_cosmetic_tag = PHI_UK
            country_event = { id = phi.32 }
        }
    }
    option = {
        name = phi.30.b.uk
        trigger = { tag = ENG }

        PHI = {
            country_event = { id = phi.33 }
        }
    }

    # Option for USA
    option = {
        name = phi.30.a.us
        trigger = { tag = USA }

        ai_chance = {
            factor = 100

            modifier = {
                factor = 10
                PHI = { has_country_flag = PHI_RETURN_OF_DEMOCRACY }
            }
            modifier = {
                factor = 20
                USA = { has_war_with = JAP }
            }
            modifier = {
                factor = 10
                ENG = { has_government = authoritarian_democrat }
            }
            modifier = {
                factor = 0.2
                PHI = { has_war_with = USA }
            }
        }

        if = {
            limit = {
                USA = { is_faction_leader = yes }
            }
            add_to_faction = PHI
        }
        if = {
            limit = {
                USA = { is_faction_leader = no }
                PHI = { is_faction_leader = no }
            }
            create_faction = PHI_pacific_defense
            add_to_faction = PHI
        }

        PHI = {
            set_country_flag = PHI_SIDED_WITH_A_MAJOR
            country_event = { id = phi.32 }
        }
    }

    option = {
        name = phi.30.b.us
        trigger = { tag = USA }

        PHI = {
            country_event = { id = phi.33 }
        }
    }
}

# FROM Accepts to Join Faction
country_event = {
    id = phi.31
    title = phi.31.t
    desc = phi.31.d
    picture = GFX_report_event_generic_sign_treaty3

    is_triggered_only = yes

    option = {
        name = phi.31.a
    }
}

# FROM Rejects Faction Join
country_event = {
    id = phi.32
    title = phi.32.t
    desc = phi.32.d
    picture = GFX_report_event_generic_strikes

    is_triggered_only = yes

    option = {
        name = phi.32.a
    }
}

# Soviet Support
country_event = {
    id = phi.33
    title = phi.33.t
    desc = phi.33.d
    picture = GFX_report_event_generic_sign_treaty3

    is_triggered_only = yes

    option = {
        name = phi.33.a

        ai_chance = {
            factor = 100

            modifier = {
                factor = 20
                PHI = { has_idea = PHI_agriculture_economy }
            }
            modifier = {
                factor = 10
                PHI = { has_government = SOV }
            }
            modifier = {
                factor = 0.2
                PHI = { num_of_factories > 150 }
            }
        }

        PHI = {
            country_event = { id = phi.34 }
            set_country_flag = PHI_SOV_TRADE
        }
    }

    option = {
        name = phi.33.b
        PHI = {
            country_event = { id = phi.35 }
        }
    }
}

# Soviets Accept
country_event = {
    id = phi.34
    title = phi.34.t
    desc = phi.34.d
    picture = GFX_report_stalin_02

    is_triggered_only = yes

    option = {
        name = phi.34.a
    }
}

# Soviets Declined
country_event = {
    id = phi.35
    title = phi.35.t
    desc = phi.35.d
    picture = GFX_report_stalin_02

    is_triggered_only = yes

    option = {
        name = phi.35.a
    }
}

# Trade Treaty
country_event = {
    id = phi.36
    title = phi.36
    desc = phi.36
    picture = GFX_report_event_generic_sign_treaty3

    is_triggered_only = yes

    option = {
        name = phi.36.a

        PHI = {
            country_event = { id = phi.37 }
        }
    }
    option = {
        name = phi.37.b
        
        PHI = {
            country_event = { id = phi.38 }
        }
    }
}

# FROM accepts trade Treaty
country_event = {
    id = phi.37
    title = phi.37.t
    desc = phi.37.d
    picture = GFX_report_event_generic_sign_treaty3

    is_triggered_only = yes

    option = {
        name = phi.37.a

        add_opinion_modifier = {
            target = FROM
            modifier = PHI_trade_treaty_accepted
        }

        if = {
            limit = { 
                FROM = { tag = JAP }
            }
            set_country_flag = PHI_JAP_TRADE
        }
        if = {
            limit = {
                FROM = { tag = ENG }
            }
            set_country_flag = PHI_ENG_TRADE
        }
        if = {
            limit = {
                FROM = { tag = GER }
            }
            set_country_flag = PHI_GER_TRADE
        }
        if = {
            limit = {
                FROM = { tag = USA }
            }
            set_country_flag = PHI_USA_TRADE
        }
        if = {
            limit = {
                FROM = { tag = SOV }
            }
            set_country_flag = PHI_SOV_TRADE
        }
    }
}

# FROM rejects Trade Treaty
country_event = {
    id = phi.38
    title = phi.38
    desc = phi.38
    picture = GFX_report_event_generic_sign_treaty3

    is_triggered_only = yes

    option = {
        name = phi.38.a

        add_opinion_modifier = {
            target = FROM
            modifier = PHI_trade_treaty_refused
        }
    }
}

# Demand the British/French Colonies
country_event = {
    id = phi.39
    title = phi.39.t
    desc = phi.39.d
    picture = GFX_report_event_german_troops_paris

    is_triggered_only = yes

    option = {
        name = phi.39.a

        ai_chance = {
            factor = 200

            modifier = {
                factor = 10
                PHI = { num_of_divisions > 100 }
            }
            modifier = {
                factor = 10
                PHI = { num_of_factories > 100 }
            }
            modifier = {
                factor = 2
                has_war_with = GER
            }
            modifier = {
                factor = 2
                has_war_with = JAP
            }
            modifier = {
                factor = 2
                has_war_with = USA
            }
        }

        if = {
            limit = { tag = ENG }
            PHI = {
                if = {
                    limit = { ENG = { controls_state = 819 } }
                    transfer_state = 819
                }
                if = {
                    limit = { ENG = { controls_state = 820 } }
                    transfer_state = 820
                }
                if = {
                    limit = { ENG = { controls_state = 336 } }
                    transfer_state = 336
                }
                if = {
                    limit = { ENG = { controls_state = 336 } }
                    transfer_state = 336
                }
                if = {
                    limit = { ENG = { controls_state = 821 } }
                    transfer_state = 821
                }
                if = {
                    limit = { ENG = { controls_state = 711 } }
                    transfer_state = 711
                }
                if = {
                    limit = { ENG = { controls_state = 712 } }
                    transfer_state = 712
                }
                if = {
                    limit = { ENG = { controls_state = 288 } }
                    transfer_state = 288
                }
                if = {
                    limit = { ENG = { controls_state = 640 } }
                    transfer_state = 640
                }
                if = {
                    limit = { ENG = { controls_state = 805 } }
                    transfer_state = 805
                }
                if = {
                    limit = { ENG = { controls_state = 812 } }
                    transfer_state = 812
                }
                if = {
                    limit = { ENG = { controls_state = 1007 } }
                    transfer_state = 1007
                }
                if = {
                    limit = { BEA = { exists = yes is_subject_of = ENG } }
                    annex_country = {
                        target = BEA
                        transfer_troops = no
                    }
                }
                country_event = { id = phi.40 }
            }
        }
            

        if = {
            limit = { 
                tag = FRA
                FIC = { exists = yes }
            }
            PHI = {
                annex_country = { target = FIC transfer_troops = no }
                country_event = { id = phi.40 }
            }
        }
    }

    option = {
        name = phi.39.b

        PHI = { country_event = { id = phi.41 } }
    }
}

# Britain/France accepts
country_event = {
    id = phi.40
    title = phi.40.t
    desc = phi.40.d
    picture = GFX_report_event_german_troops_paris

    is_triggered_only = yes

    option = {
        name = phi.40.a
    }
}

# Britain/France rejects
country_event = {
    id = phi.41
    title = phi.41.t
    desc = phi.41.d
    picture = GFX_report_event_german_italian_plot

    is_triggered_only = yes

    option = {
        name = phi.40.a

        if = {
            limit = { FROM = { tag = ENG } }
            create_wargoal = {
                type = take_state_focus
                target = ENG
                generator = { 819 820 711 712 336 336 821 }
            }
        }

        if = {
            limit = { FROM = { tag = FRA } }
            create_wargoal = {
                target = FIC
                type = annex_everything
            }
        }
    }

    option = {
        name = phi.40.b

        if = {
            limit = { FROM = { tag = ENG } }
            set_country_flag = PHI_ENG_REJECTED_TERRITORY_DEMANDS
        }
        if = {
            limit = { FROM = { tag = FRA } }
            set_country_flag = PHI_FRA_REJECTED_TERRITORY_DEMANDS
        }
    }
}

# Naval Equipment Purchases
country_event = {
    id = phi.42
    title = phi.42.t
    desc = phi.42.d
    picture = GFX_report_event_hitler_handshake

    is_triggered_only = yes

    option = {
        name = phi.42.a

        if = {
            limit = { has_dlc = "Man the Guns" }
            send_equipment = {
                equipment = ship_hull_submarine_1
                target = PHI
                amount = 10
            }
            send_equipment = {
                equipment = ship_hull_light_1
                target = PHI
                amount = 10
            }
            send_equipment = {
                equipment = ship_hull_cruiser_1
                target = PHI
                amount = 5
            }
            set_technology = { basic_ship_hull_submarine = 1 }
            set_technology = { basic_ship_hull_light = 1 }
            set_technology = { basic_ship_hull_cruiser = 1 }
        }
        if = {
            limit = { NOT = { has_dlc = "Man the Guns" } }
            send_equipment = {
                equipment = submarine_1
                target = PHI
                amount = 10
            }
            send_equipment = {
                equipment = destroyer_1
                target = PHI
                amount = 10
            }
            send_equipment = {
                equipment = light_cruiser_1
                target = PHI
                amount = 5
            }
            PHI = {
                set_technology = { basic_submarine = 1 }
                set_technology = { basic_destroyer = 1 }
                set_technology = { basic_light_cruiser = 1 }
            }
        }
        PHI = { country_event = { id = phi.46 } }
    }

    option = {
        name = phi.42.b

        PHI = { country_event = { id = phi.47 } }
    }
}

# Aircraft Purchase
country_event = {
    id = phi.43
    title = phi.43.t
    desc = phi.43.d
    picture = GFX_report_event_generic_sign_treaty3

    is_triggered_only = yes

    option = {
        name = phi.43.a

        send_equipment = {
            equipment = fighter_equipment_1
            amount = 100
            target = PHI
        }
        send_equipment = {
            equipment = CAS_equipment_1
            amount = 100
            target = PHI
        }
        send_equipment = {
            equipment = nav_bomber_equipment_1
            amount = 100
            target = PHI
        }

        PHI = {
            if = {
                limit = {
                    has_tech = fighter2
                    NOT = { has_tech = fighter3 }
                }
                set_technology = { fighter3 = 1 }
            }
            if = {
                limit = {
                    has_tech = fighter1
                    NOT = { has_tech = fighter2 }
                }
                set_technology = { fighter2 = 1 }
            }
            if = {
                limit = {
                    has_tech = CAS2
                    NOT = { has_tech = CAS3 }
                }
                set_technology = { CAS3 = 1 }
            }
            if = {
                limit = {
                    has_tech = CAS1
                    NOT = { has_tech = CAS2 }
                }
                set_technology = { CAS2 = 1 }
            }
            if = {
                limit = {
                    has_tech = naval_bomber2
                    NOT = { has_tech = naval_bomber3 }
                }
                set_technology = { naval_bomber3 = 1 }
            }
            if = {
                limit = {
                    has_tech = naval_bomber1
                    NOT = { has_tech = naval_bomber2 }
                }
                set_technology = { naval_bomber2 = 1 }
            }
            country_event = { id = phi.46 }
        }
    }

    option = {
        name = phi.43.b

        PHI = { country_event = { id = phi.47 } }
    }
}

# Tank Purchase
country_event = {
    id = phi.44
    title = phi.44.t
    desc = phi.44.d
    picture = GFX_report_event_generic_sign_treaty3

    is_triggered_only = yes

    option = {
        name = phi.44.a

        send_equipment = {
            equipment = light_tank_equipment_2
            amount = 100
            target = PHI
        }
        send_equipment = {
            equipment = medium_tank_equipment_1
            amount = 100
            target = PHI
        }
        send_equipment = {
            equipment = heavy_tank_equipment_1
            amount = 100
            target = PHI
        }
        PHI = {
            if = {
                limit = { has_tech = improved_light_tank }
                set_technology = { advanced_light_tank = 1 }
            }
            if = {
                limit = { 
                    has_tech = basic_light_tank
                    NOT = { has_tech = improved_medium_tank }
                }
                set_technology = { improved_light_tank = 1 }
            }
            if = {
                limit = { 
                    has_tech = gwtank
                    NOT = { has_tech = basic_light_tank }
                }
                set_technology = { basic_light_tank = 1 }
            }
            if = {
                limit = { 
                    has_tech = improved_medium_tank
                    NOT = { has_tech = advanced_medium_tank }
                }
                set_technology = { advanced_medium_tank = 1 }
            }
            if = {
                limit = {
                    has_tech = basic_medium_tank
                    NOT = { has_tech = improved_medium_tank }
                }
                set_technology = { improved_medium_tank = 1 }
            }
            if = {
                limit = {
                    has_tech = improved_heavy_tank
                    NOT = { has_tech = advanced_heavy_tank }
                }
                set_technology = { advanced_heavy_tank = 1 }
            }
            if = {
                limit = {
                    has_tech = basic_heavy_tank
                    NOT = { has_tech = improved_heavy_tank }
                }
                set_technology = { improved_heavy_tank = 1 }
            }
            PHI = { country_event = { id = phi.46 } }
        }
    }
    option = {
        name = phi.44.b

        PHI = { country_event = { id = phi.47 } }
    }
}

# Equipment Aid
country_event = {
    id = phi.44
    title = phi.44.t
    desc = phi.44.d
    picture = GFX_report_event_election_vote

    is_triggered_only = yes

    option = {
        name = phi.44.a

        send_equipment = {
            equipment = artillery_equipment_1
            amount = 1000
            target = PHI
        }
        send_equipment = {
            equipment = infantry_equipment_1
            amount = 1000
            target = PHI
        }
        send_equipment = {
            equipment = support_equipment_1
            amount = 1000
            target = PHI
        }

        PHI = {
            country_event = { id = phi.46 }
        }
    }

    option = {
        name = phi.44.b

        PHI = {
            country_event = { id = phi.47 }
        }
    }
}

# FROM accepts Purchase
country_event = {
    id = phi.46
    title = phi.46.t
    desc = phi.46.d
    picture = GFX_report_event_generic_sign_treaty3

    is_triggered_only = yes

    option = {
        name = phi.46.a
    }
}

# FROM rejects Purchase
country_event = {
    id = phi.47
    title = phi.47.t
    desc = phi.47.d
    picture = GFX_report_event_generic_sign_treaty3

    is_triggered_only = yes

    option = {
        name = phi.47.a
    }
}

# Peace
country_event = {
    id = phi.48
    title = phi.48.t
    desc = phi.48.d
    picture = GFX_report_event_dutch_soldiers_indonesia

    is_triggered_only = yes

    option = {
        name = phi.48.a

        custom_effect_tooltip = PHI_transfer_colonial_territories_effect
        hidden_effect = {
            if = {
                limit = { tag = ENG }
                
                every_country = {
                    limit = {
                        has_war_with = PHI
                        is_in_faction_with = ENG
                    }

                    white_peace = PHI
                }

                PHI = {
                    # Transfer Malaya
                    transfer_state = 336 
                    transfer_state = 819
                    transfer_state = 820
                    transfer_state = 821
                    transfer_state = 333
                    transfer_state = 944

                    # Transfer Burma
                    transfer_state = 288
                    transfer_state = 640
                    transfer_state = 812
                    transfer_state = 805
                    transfer_state = 1007

                    # Annex the British East Indies
                    annex_country = {
                        target = BEA
                        transfer_troops = no
                    }                
                }
            }

            if = {
                limit = { tag = FRA }

                every_country = {
                    limit = { 
                        has_war_with = PHI
                        is_in_faction_with = FRA
                    }

                    white_peace = PHI
                }

                PHI = {
                    # Annex French Indochina
                    annex_country = {
                        target = FIC
                        transfer_troops = no
                    }
                }
            }
        }
    }

    option = {
        name = phi.48.b

        add_political_power = -50
        add_stability = -0.05
        add_war_support = -0.05
    }
}

# Communist Rebels Crushed
country_event = {
    id = phi.49
    title = phi.49.t
    desc = phi.49.d
    picture = GFX_report_event_german_troops_paris

    is_triggered_only = yes

    immediate = {
        hidden_effect = {
            every_state = {
                limit = { is_core_of = SRP }

                add_core_of = PHI
                remove_core_of = SRP
            }
        }
    }

    option = {
        name = phi.49.a

        327 = {
            damage_building = {
                type = infrastructure
                damage = 2
            }
            damage_building = {
                type = industrial_complex
                damage = 2
            }
            damage_building = {
                type = arms_factory
                damage = 2
            }
        }
    }
}

# Trade Union Congress
country_event = {
    id = phi.50
    title = phi.50.t
    desc = phi.50.d
    picture = GFX_report_event_journalists_speech

    is_triggered_only = yes

    option = {
        name = phi.50.a
        add_political_power = 100
        add_popularity = {
            ideology = libertarian_socialist
            popularity = 0.05
        }
        hidden_effect = { set_country_flag = PHI_EVANGELISTA_REMAINS_FLAG }
    }

    option = {
        name = phi.50.b
        set_politics = {
            ruling_party = vanguardist
            elections_allowed = no
        }
        hidden_effect = {
            swap_ideas = {
                remove_idea = PHI_Crisanto_Evangelista_HoG_LIB
                add_idea = PHI_Luis_Taruc_HoG_VAN
            }
            set_country_flag = PHI_TARUC_ASSUMES_POWER_FLAG    
        }
    }   
}

# 45th Independence
country_event = {
    id = phi.51
    title = phi.51.t
    desc = phi.51.d
    picture = GFX_report_event_journalists_speech

    is_triggered_only = yes

    option = {
        name = phi.51.a

        add_political_power = 100
    }
}

# Support
country_event = {
    id = phi.52
    title = phi.52.t
    desc = phi.52.d
    picture = GFX_report_event_generic_sign_treaty3

    is_triggered_only = yes

    option = {
        name = phi.52.a

        PHI = {
            send_equipment = {
                target = PREV
                amount = 15000
                equipment = infantry_equipment_1
            }
            send_equipment = {
                target = PREV
                amount = 5000
                equipment = support_equipment_1
            }
            send_equipment = {
                target = PREV
                amount = 5000
                equipment = artillery_equipment_1
            }
            send_equipment = {
                target = PREV
                amount = 500
                equipment = convoy_1
            }
        }
    }

    option = {
        name = phi.52.b

        add_ideas = PHI_financial_support
    }

    option = {
        name = phi.52.c
    }
}

# Sighting of Aswang
country_event = {
    id = phi.53
    title = phi.53.t
    desc = phi.53.d

    fire_only_once = yes

    mean_time_to_happen = {
        days = 1
    }

    trigger = {
        original_tag = PHI
        date > 1940.3.18
    }

    option = {
        name = phi.53.a
    }
}